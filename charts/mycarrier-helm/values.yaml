# Default values for mycarrier Helm chart
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

## @section Global Settings
## Global settings used across all applications

## @param global.appStack Application stack name, used for naming resources and grouping applications
## @param global.gitbranch Name of the git branch (used for feature branches)
## @param global.branchlabel Label for the branch, used for reference label
## @param global.language Default programming language for applications (can be overridden at application level)
## @param global.v2migration Flag to indicate if we are migrating to v2 (enables certain ArgoCD sync options)
## @param global.commitDeployed Label for the deployed commit (used for tracking deployments)
## @param global.correlationId Correlation ID for tracking deployments across systems
## @param global.env [object] Global environment variables shared across all applications
## @extra global.dependencies Dependency flags to control infrastructure resources
## @param global.dependencies.mongodb Enable MongoDB dependency
## @param global.dependencies.elasticsearch Enable Elasticsearch dependency
## @param global.dependencies.redis Enable Redis dependency
## @param global.dependencies.postgres Enable PostgreSQL dependency
## @param global.dependencies.sqlserver Enable SQL Server dependency
## @param global.dependencies.clickhouse Enable ClickHouse dependency
## @param global.dependencies.azureservicebus Enable Azure Service Bus dependency
## @param global.dependencies.redpanda Enable Redpanda dependency
## @param global.dependencies.loadsure Enable Loadsure dependency
## @param global.dependencies.chargify Enable Chargify dependency
global:
  appStack: "app" # Application stack name (e.g., "app", "billing", "users" - used for naming resources and grouping applications)
  gitbranch: "" # Git branch name (e.g., "main" or "feature/xyz")
  branchlabel: "" # Used for reference label (e.g., "main" or "feature-xyz")
  language: "csharp" # Default language (csharp, java, nodejs, python, go, etc.) - can be overridden at application level
  v2migration: false # Set to true to enable ArgoCD sync options for v2 migration (e.g., skip schema validation, ignore certain fields)
  commitDeployed: "" # Optional: Git commit hash or identifier for the deployed code (used for tracking deployments)
  correlationId: "" # Optional: Correlation ID for tracking deployments across systems
  env: {}
  dependencies:
    mongodb: false
    elasticsearch: false
    redis: false
    postgres: false
    sqlserver: false
    clickhouse: false
    azureservicebus: false
    redpanda: false
    loadsure: false
    chargify: false

## @section Environment Settings
## Environment-specific settings

## @param environment.name Environment name (dev, preprod, prod, or feature-*)
## @param environment.dependencyenv Environment name for dependencies
## @extra environment.domainOverride Domain override configuration
## @param environment.domainOverride.enabled Whether to override the default domain (default domains: mycarrier.dev for non-prod, mycarriertms.com for prod)
## @param environment.domainOverride.domain Domain to use when override is enabled
environment:
  name: "dev"
  dependencyenv: "dev"
  domainOverride:
    enabled: false
    domain: "example.com"

## @section Platform Settings
## Platform-wide settings

## @param enableVaultCA Enable Vault CA certificate download during pod startup
## @param disableOtelAutoinstrumentation Disable OpenTelemetry automatic instrumentation (set to false to enable)
## @param tolerations [array] Default tolerations for all applications
## @param deployment Deployment folder name (should match the subfolder containing the specific deployment)
enableVaultCA: false
disableOtelAutoinstrumentation: true
tolerations: []
deployment: deployment

## @section Applications
## Configuration for application deployments
##
## Each application is defined as a key-value pair where the key is the application name.
## See the comprehensive example configuration below for all available options.
##
## **Basic Settings**: enableDebugMode, isFrontend, language, forceOffload, staticHostname, deploymentType, version, replicas
## **Container**: image.registry, image.repository, image.tag, pullPolicy, pullSecret
## **Resources**: resources.requests.cpu/memory, resources.limits.cpu/memory
## **Health Probes**: probes.enableLiveness, probes.enableReadiness, probes.enableStartup, custom probe configurations
## **Service**: service.type, service.ports, service.annotations, service.timeout, service.retryOn
## **Networking**: networking.ingress.type, networking.istio.enabled/hosts/routes/corsPolicy/allowedEndpoints
## **Autoscaling**: HPA (autoscaling.minReplicas/maxReplicas/targetCPU/targetMemory), VPA (vpa.enabled/updateMode/resources)
## **Monitoring**: serviceMonitor.enabled/path/interval/scheme
## **Testing**: testtrigger configuration for automated test jobs

## @param applications [object] Map of application definitions where the key is the application name

applications: {}

# ============================================================================
# EXAMPLE APPLICATION CONFIGURATION
# ============================================================================
# Below is a comprehensive example showing all available configuration options.
# Uncomment and customize as needed for your applications.
# ============================================================================
#
# example-api:
#   # ----------------------------------------------------------------------------
#   # Basic Application Settings
#   # ----------------------------------------------------------------------------
#   enableDebugMode: false
#   isFrontend: false
#   forceOffload: false
#   deploymentType: "deployment"  # Options: deployment, statefulset, rollout
#   migratingToRollouts: false
#   version: "1.0.0"
#   replicas: 1
#   
#   # Optional: Static hostname for the application
#   # staticHostname: "api.example.com"
#   
#   # ----------------------------------------------------------------------------
#   # Custom Labels and Annotations
#   # ----------------------------------------------------------------------------
#   labels:
#     app.kubernetes.io/component: "api"
#   
#   annotations:
#     app.mycarrier.tech/team: "platform"
#   
#   # ----------------------------------------------------------------------------
#   # Container Image Configuration
#   # ----------------------------------------------------------------------------
#   image:
#     registry: "myregistry.example.com"
#     repository: "mycarrier/example-api"
#     tag: "1.0.0"
#   
#   pullPolicy: "IfNotPresent"  # Options: IfNotPresent, Always, Never
#   pullSecret: "imagepull"
#   
#   # ----------------------------------------------------------------------------
#   # Environment Variables
#   # ----------------------------------------------------------------------------
#   env:
#     NODE_ENV: "development"
#     LOG_LEVEL: "info"
#     # Example of valueFrom usage:
#     # DB_PASSWORD:
#     #   valueFrom:
#     #     secretKeyRef:
#     #       name: db-secrets
#     #       key: password
#   
#   # ----------------------------------------------------------------------------
#   # Port Configuration
#   # ----------------------------------------------------------------------------
#   ports:
#     http: 8080
#     metrics: 9090
#   
#   # ----------------------------------------------------------------------------
#   # Resource Configuration
#   # ----------------------------------------------------------------------------
#   resources:
#     requests:
#       cpu: "50m"
#       memory: "128Mi"
#     limits:
#       cpu: "500m"
#       memory: "512Mi"
#   
#   securityContext:
#     readOnlyRootFilesystem: false
#   
#   # ----------------------------------------------------------------------------
#   # Health Probes
#   # ----------------------------------------------------------------------------
#   probes:
#     enableLiveness: true
#     enableReadiness: true
#     enableStartup: false
#     # Custom probe configuration:
#     # livenessProbe:
#     #   httpGet:
#     #     path: /health/live
#     #     port: http
#     #   initialDelaySeconds: 30
#     #   periodSeconds: 15
#     # readinessProbe:
#     #   httpGet:
#     #     path: /health/ready
#     #     port: http
#     #   initialDelaySeconds: 10
#     #   periodSeconds: 7
#   
#   # ----------------------------------------------------------------------------
#   # Service Configuration
#   # ----------------------------------------------------------------------------
#   service:
#     type: "ClusterIP"  # Options: ClusterIP, NodePort, LoadBalancer
#     headless: false
#     istioDisabled: false
#     
#     # Port definitions (if not provided, uses 'ports' field above)
#     ports:
#       - name: http
#         port: 80
#         targetPort: 8080
#         protocol: TCP
#       - name: metrics
#         port: 9090
#         targetPort: 9090
#     
#     annotations:
#       prometheus.io/scrape: "true"
#       prometheus.io/port: "9090"
#     
#     # Timeout and retry settings
#     timeout: "151s"
#     retryOn: "5xx,reset"
#     attempts: 3
#     perTryTimeout: "50s"
#   
#   # ----------------------------------------------------------------------------
#   # Networking and Ingress
#   # ----------------------------------------------------------------------------
#   networking:
#     ingress:
#       type: "istio"
#     
#     istio:
#       enabled: true
#       cloudflareProxied: true  # Enable Cloudflare proxy for VirtualService DNS records (external-dns annotation, default: true)
#       hosts: []
#       redirects: {}
#       routes: {}  # Custom routes; destination defaults to the app's service. Override with 'destination' field per route.
#       # routes:
#       #   my-route:
#       #     match:
#       #       - uri:
#       #           prefix: /ui/portal
#       #   external-route:
#       #     destination: "other-service.namespace.svc.cluster.local"  # optional override
#       #     match:
#       #       - uri:
#       #           prefix: /api/external
#       responseHeaders: {}
#       corsPolicy: {}
#       
#       # Allowed endpoints (C# apps auto-add /liveness, /health, /api if name contains 'api')
#       allowedEndpoints: []
#       # allowedEndpoints:
#       #   - "/custom-endpoint"
#       #   - "/api/v1/*"
#       # disableDefaultEndpoints: false  # Set true to disable auto C# endpoints
#   
#   # ----------------------------------------------------------------------------
#   # Service Account
#   # ----------------------------------------------------------------------------
#   serviceAccount:
#     create: false
#   
#   # ----------------------------------------------------------------------------
#   # Scheduling Configuration
#   # ----------------------------------------------------------------------------
#   # nodeSelector:
#   #   disktype: ssd
#   # priorityClassName: "high-priority"
#   
#   # ----------------------------------------------------------------------------
#   # Update Strategy
#   # ----------------------------------------------------------------------------
#   updateStrategy:
#     type: "RollingUpdate"
#     rollingUpdate:
#       maxUnavailable: 0
#       maxSurge: 2
#     
#     # For Argo Rollouts:
#     # canary:
#     #   steps:
#     #     - setWeight: 25
#     #     - analysis:
#     #         templates:
#     #           - templateName: load-test
#     #     - setWeight: 50
#     #     - analysis:
#     #         templates:
#     #           - templateName: load-test
#     #     - setWeight: 100
#     #   scaleDownDelaySeconds: 30
#     #   scaleDownDelayRevisionLimit: 5
#     #   abortScaleDownDelaySeconds: 30
#   
#   # ----------------------------------------------------------------------------
#   # Monitoring and Observability
#   # ----------------------------------------------------------------------------
#   serviceMonitor:
#     enabled: false
#     interval: "30s"
#     scrapeTimeout: "10s"
#     scheme: "http"
#     # relabelings: []
#     # metricRelabelings: []
#     # tlsConfig: {}
#   
#   # ----------------------------------------------------------------------------
#   # Lifecycle Hooks
#   # ----------------------------------------------------------------------------
#   # lifecycle:
#   #   postStart: "echo 'Container started'"
#   #   preStop: "sleep 10 && pkill node"
#   
#   # ----------------------------------------------------------------------------
#   # Vertical Pod Autoscaler (VPA)
#   # ----------------------------------------------------------------------------
#   vpa:
#     enabled: false
#     controlledValues: "RequestsOnly"  # Options: RequestsOnly, RequestsAndLimits
#     updateMode: "Auto"  # Options: Off, Initial, Auto
#     #   - Off: VPA does not automatically change resource requirements
#     #   - Initial: VPA only assigns resource requests on pod creation
#     #   - Auto: VPA updates resource requests at any time
#     
#     # Optional: Resource boundaries (defaults: min=requests, max=limits×3)
#     resources:
#       cpu:
#         minimum: "100m"    # Examples: "100m", "0.5", "1"
#         maximum: "3000m"   # Examples: "2000m", "2", "4"
#       memory:
#         minimum: "128Mi"   # Examples: "128Mi", "256Mi", "1Gi"
#         maximum: "3Gi"     # Examples: "2Gi", "4Gi", "8Gi"
#   
#   # ----------------------------------------------------------------------------
#   # Horizontal Pod Autoscaler (HPA)
#   # ----------------------------------------------------------------------------
#   autoscaling:
#     enabled: false
#     minReplicas: 2         # Default: application replicas (min 2)
#     maxReplicas: 6         # Default: minReplicas × 3
#     targetCPUUtilizationPercentage: 80
#     targetMemoryUtilizationPercentage: 80
#     forceAutoscaling: false  # Force HPA even if replicas=1
#   
#   # ----------------------------------------------------------------------------
#   # Automated Testing Configuration
#   # ----------------------------------------------------------------------------
#   # Configure automated test jobs that run against your deployed application
#   testtrigger:
#     ttlSecondsAfterFinished: "300"
#     activeDeadlineSeconds: "600"
#     backoffLimit: 0
#     apikey: "vault:Secrets/data/testengine#apikey"
#     webhook_url: "vault:Secrets/data/testengine#webhook_url"
#     
#     resources:
#       requests:
#         cpu: "50m"
#         memory: "128Mi"
#       limits:
#         cpu: "500m"
#         memory: "512Mi"
#     
#     testdefinitions:
#       - name: "apitests"
#         containerImage: "myregistry.example.com/image/name"
#         containerTag: "1.10.2"
#         secretId: "vault:Secrets/data/app_authentication#SecretId"
#         additionalEnvVars: "key1=value1;key2=value2"
#         filters:
#           - "TestCategory=coretests"
#           - "TestCategory=othercoretests"
#         # Optional: Custom service address
#         serviceAddress: "custom-address.dev-exampletestapp.svc.cluster.local"
#       
#       - name: "somedependencytest"
#         containerImage: "myregistry.example.com/image/name"
#         containerTag: "1.10.2"
#         secretId: "vault:Secrets/data/app_authentication#SecretId"
#         filters:
#           - "TestCategory=otherdomaintests"
#           - "TestCategory=somedependencytests"

## @section Kubernetes Jobs
## Configuration for Kubernetes Jobs to run
##
## Each job supports: name, timing (pre-deploy/post-deploy), order, ttlSecondsAfterFinished,
## activeDeadlineSeconds, backoffLimit, labels, annotations, image (registry/repository/tag),
## imagePullPolicy, command, args, env, resources (requests/limits for cpu/memory)
## 
## See the example configuration below for complete job specification details.

## @param jobs [array] List of Kubernetes Jobs to run
jobs: []

# ============================================================================
# EXAMPLE JOB CONFIGURATION
# ============================================================================
# - name: db-migration
#   timing: "pre-deploy"           # Options: pre-deploy, post-deploy
#   order: 0                        # Execution order within timing group
#   ttlSecondsAfterFinished: 300    # Cleanup after completion (seconds)
#   activeDeadlineSeconds: 600      # Job timeout (seconds)
#   backoffLimit: 0                 # Number of retries
#   
#   labels:
#     app.kubernetes.io/component: "job"
#   
#   annotations:
#     app.mycarrier.tech/team: "platform"
#   
#   image:
#     registry: "myregistry.example.com"
#     repository: "mycarrier/db-migration"
#     tag: "1.0.0"
#   
#   imagePullPolicy: "IfNotPresent"
#   command: ["/bin/sh", "-c"]
#   args: ["./run-migration.sh"]
#   
#   env:
#     - name: DB_NAME
#       value: "mydb"
#   
#   resources:
#     requests:
#       cpu: "100m"
#       memory: "128Mi"
#     limits:
#       cpu: "500m"
#       memory: "256Mi"

## @section Kubernetes CronJobs
## Configuration for Kubernetes CronJobs to run on a schedule
##
## Each cronjob supports: name, schedule (required), timeZone, concurrencyPolicy, suspend,
## successfulJobsHistoryLimit, failedJobsHistoryLimit, startingDeadlineSeconds, activeDeadlineSeconds,
## backoffLimit, restartPolicy, labels, annotations, image (registry/repository/tag), imagePullPolicy,
## imagePullSecret, command, args, env, configMapName, secretName, resources (requests/limits), volumes
##
## See the example configuration below for complete cronjob specification details.

## @param cronjobs [array] List of Kubernetes CronJobs to run
cronjobs: []

# ============================================================================
# EXAMPLE CRONJOB CONFIGURATION
# ============================================================================
# - name: backup-job
#   schedule: "0 2 * * *"           # REQUIRED: Cron schedule (runs at 2 AM daily)
#   timeZone: "UTC"
#   concurrencyPolicy: "Forbid"     # Options: Allow, Forbid, Replace
#   suspend: false
#   successfulJobsHistoryLimit: 3
#   failedJobsHistoryLimit: 1
#   startingDeadlineSeconds: 200
#   activeDeadlineSeconds: 600
#   backoffLimit: 0
#   restartPolicy: "Never"          # Options: Never, OnFailure
#   
#   labels:
#     app.kubernetes.io/component: "cronjob"
#   
#   annotations:
#     app.mycarrier.tech/team: "platform"
#   
#   image:
#     registry: "myregistry.example.com"
#     repository: "mycarrier/backup"
#     tag: "1.0.0"
#   
#   imagePullPolicy: "IfNotPresent"
#   imagePullSecret: "imagepull"
#   command: ["/bin/sh", "-c"]
#   args: ["./run-backup.sh"]
#   
#   env:
#     - name: BACKUP_PATH
#       value: "/backups"
#   
#   # Optional: ConfigMap and Secret references
#   # configMapName: "backup-config"
#   # secretName: "backup-secrets"
#   
#   resources:
#     requests:
#       cpu: "100m"
#       memory: "128Mi"
#     limits:
#       cpu: "500m"
#       memory: "512Mi"
#   
#   # Optional: Volume mounts
#   # volumes:
#   #   - name: backup-storage
#   #     mountPath: /backups
#   #     kind: emptyDir

## @section Secrets Management
## Configuration for secrets from Vault
##
## **Bulk secrets**: secrets.bulk.path - retrieves all keys from a Vault path as environment variables
## **Individual secrets**: secrets.individual[] - array of {envVarName, path, keyName} for specific env vars
## **Mounted secrets**: secrets.mounted[] - array of {name, mountedFileName, vault.path, vault.property, mount.path, mount.subPath}
##
## See the example configuration below for complete secrets specification details.

## @extra secrets Secret configuration
## @param secrets.bulk [object] Bulk secret retrieval from a single Vault path
## @param secrets.individual [array] Individual environment variables from Vault
## @param secrets.mounted [array] File-mounted secrets from Vault

secrets:
  bulk: {}
    # path: "secrets/data/dev/app"
  
  individual: []
    # - envVarName: DB_PASSWORD
    #   path: secrets/data/dev/app/db
    #   keyName: password
  
  mounted: []
    # - name: certificate
    #   mountedFileName: cert.pem
    #   vault:
    #     path: secrets/data/dev/app/certs
    #     property: certificate
    #   mount:
    #     path: /app/certs
    #     subPath: cert.pem

## @section Infrastructure Resources
## Infrastructure resources provisioned via Crossplane
##
## **Resource Groups**: infrastructure.azure.resourceGroup[] - name, location, managementPolicies, tags, namespace
## **Storage Accounts**: infrastructure.azure.storage.accounts[] - resource groups, storage accounts, containers, tags
## **Service Bus**: infrastructure.azure.servicebus[] - namespace, SKU, topics, subscriptions, rules, management policies
##
## All resources support managementPolicies for lifecycle management (default: ["Observe"] for safe imports).
## "Delete" policy is blocked to prevent accidental resource deletion.
##
## See the comprehensive example configuration below for all available options and detailed documentation.

# ============================================================================
# INFRASTRUCTURE CONFIGURATION
# ============================================================================
# The following sections configure Azure infrastructure resources managed
# through Crossplane. These resources are provisioned and managed as part
# of your Kubernetes deployment.
# ============================================================================

## @extra infrastructure Infrastructure configuration
## @extra infrastructure.azure Azure infrastructure resources
## @param infrastructure.azure.resourceGroup [array] Azure Resource Group configurations
## @extra infrastructure.azure.storage Azure Storage configuration
## @param infrastructure.azure.storage.accounts [array] Azure storage account configurations
## @param infrastructure.azure.servicebus [array] Azure Service Bus namespace configurations

infrastructure:
  azure:
    # Azure Resource Group configurations
    resourceGroup: []
      # Example Resource Group configuration:
      # - name: "rg-app-dev"                              # Required: Resource Group name
      #   location: "East US"                             # Required: Azure region
      #
      #   # Optional: Manage resource lifecycle with managementPolicies
      #   # managementPolicies: ["Observe"]               # Optional: Management policies (default: ["Observe"] - import/read-only mode)
      #                                                    # IMPORTANT: "Delete" policy is BLOCKED to protect infrastructure from accidental deletion
      #                                                    # Default is safe for importing existing resources: ["Observe"]
      #                                                    # To create/manage new resources: ["Create", "Update", "LateInitialize", "Observe"]
      #
      #   # Optional: Managed by resource ID
      #   # managedBy: "/subscriptions/.../resourceGroups/..."  # Optional: ID of resource that manages this RG
      #
      #   # Optional: Resource tags
      #   tags:
      #     environment: "dev"
      #     purpose: "application-resources"
      #     managed-by: "crossplane"
      #
      #   # Optional: Custom Kubernetes namespace
      #   namespace: "my-custom-namespace"                # Optional: Custom Kubernetes namespace (default: {env}-{appStack})
      #
      #   # Optional: Custom annotations
      #   annotations:
      #     custom.annotation/key: "custom-value"

    storage:
      # Azure storage account configurations
      accounts: []
        # Example storage account configuration:
        # - # Resource Group Options (choose one):
        #   existingResourceGroup:                          # Option 1: Use existing external resource group
        #     name: "my-existing-rg"                        # Required: Name of existing resource group
        #   # OR
        #   newResourceGroup:                               # Option 2: Create new resource group as part of composition
        #     name: "my-new-rg"                             # Optional: Name for new resource group (auto-generated if omitted)
        #   
        #   # Storage Account Options (choose one):
        #   existingStorageAccount:                         # Option 1: Use existing external storage account
        #     name: "mystorageacct"                         # Required: Name of existing storage account
        #   # OR
        #   newStorageAccount:                              # Option 2: Create new storage account as part of composition
        #     name: "mystorageacct"                         # Optional: Name for new storage account (auto-generated if omitted)
        #     location: "East US"                           # Required: Azure region
        #     accountTier: "Standard"                       # Optional: Standard (default) or Premium
        #     accountReplicationType: "LRS"                 # Optional: LRS (default), GRS, RAGRS, ZRS, GZRS, RAGZRS
        #     accessTier: "Cool"                            # Optional: Cool (default), Hot, Archive
        #   
        #   # Optional: Blob containers to create
        #   containers:
        #     - name: "uploads"                             # Required: Container name
        #       accessType: "private"                       # Optional: private (default), blob, container
        #       metadata:                                   # Optional: Container metadata
        #         retention: "30days"
        #         tier: "hot"
        #     - name: "logs"
        #       accessType: "blob"
        #   
        #   # Optional: Resource tags
        #   tags:
        #     environment: "dev"
        #     purpose: "application-storage"
        #   
        #   # Optional: Custom Kubernetes namespace
        #   namespace: "my-custom-namespace"
        #   
        #   # Optional: Custom annotations
        #   annotations:
        #     custom.annotation/key: "custom-value"
    # Azure Service Bus configurations
    servicebus: []
      # Example Service Bus configuration:
      # - name: "my-servicebus-namespace"                # Required: Service Bus namespace name
      #   location: "East US"                             # Required: Azure region
      #   sku: "Standard"                                 # Required: Basic, Standard, or Premium (no default - must specify)
      #   resourceGroupName: "rg-app-dev"                 # Optional: Resource group name (default: rg-{appStack}-{env})
      #
      #   # Optional: For Premium SKU only
      #   # capacity: 1                                   # Optional: Messaging units: 1, 2, 4, 8, or 16 (default: 1)
      #
      #   # Optional: Manage resource lifecycle with managementPolicies
      #   # managementPolicies: ["Observe"]               # Optional: Management policies (default: ["Observe"] - import/read-only mode)
      #                                                    # IMPORTANT: "Delete" policy is BLOCKED to protect infrastructure from accidental deletion
      #                                                    # Default is safe for importing existing resources: ["Observe"]
      #                                                    # To create/manage new resources: ["Create", "Update", "LateInitialize", "Observe"]
      #
      #   # Optional: Resource tags
      #   tags:
      #     environment: "dev"
      #     purpose: "messaging"
      #
      #   # Optional: Custom Kubernetes namespace
      #   namespace: "my-custom-namespace"                # Optional: Custom Kubernetes namespace (default: {env}-{appStack})
      #
      #   # Required: At least one topic with subscriptions
      #   topics:
      #     - name: "orders"                              # Required: Topic name
      #
      #       # Optional: Topic-level management policies
      #       # managementPolicies: ["Observe"]           # Optional: Management policies (default: ["Observe"] - import/read-only mode)
      #                                                    # IMPORTANT: "Delete" policy is BLOCKED
      #                                                    # To create/manage new topics: ["Create", "Update", "LateInitialize", "Observe"]
      #
      #       # Optional: Topic settings (all have Azure defaults if omitted)
      #       # maxSizeInMegabytes: 1024                  # Optional: Topic size in MB (default: 1024 for Basic/Standard, 5120 for Premium)
      #       # requiresDuplicateDetection: false         # Optional: Enable duplicate detection (default: false)
      #       # defaultMessageTtl: "P14D"                 # Optional: ISO 8601 duration (default: P14D - 14 days)
      #       # duplicateDetectionHistoryTimeWindow: "PT10M" # Optional: ISO 8601 duration (default: PT10M - 10 minutes)
      #       # batchedOperationsEnabled: true            # Optional: Enable batched operations (default: true)
      #       # expressEnabled: false                     # Optional: Enable Express mode (Standard/Premium only, default: false)
      #       # partitioningEnabled: false                # Optional: Enable partitioning (default: false)
      #       # supportOrdering: false                    # Optional: Enable message ordering (default: false)
      #       # autoDeleteOnIdle: "P10675199DT2H48M5.4775807S" # Optional: Auto-delete after idle time (default: never)
      #
      #       # Required: At least one subscription per topic
      #       subscriptions:
      #         - name: "orders-processor"               # Required: Subscription name
      #
      #           # Optional: Subscription-level management policies
      #           # managementPolicies: ["Observe"]      # Optional: Management policies (default: ["Observe"] - import/read-only mode)
      #                                                   # IMPORTANT: "Delete" policy is BLOCKED
      #                                                   # To create/manage new subscriptions: ["Create", "Update", "LateInitialize", "Observe"]
      #
      #           # Optional: Subscription settings (all have Azure defaults if omitted)
      #           # maxDeliveryCount: 10                 # Optional: Maximum delivery attempts (default: 10)
      #           # lockDuration: "PT1M"                 # Optional: ISO 8601 duration (default: PT1M - 1 minute)
      #           # requiresSession: false               # Optional: Enable sessions (default: false)
      #           # defaultMessageTtl: "P14D"            # Optional: ISO 8601 duration (default: P14D - 14 days)
      #           # deadLetteringOnMessageExpiration: false # Optional: Move expired messages to DLQ (default: false)
      #           # deadLetteringOnFilterEvaluationError: true # Optional: Move messages to DLQ on filter errors (default: true)
      #           # batchedOperationsEnabled: true       # Optional: Enable batched operations (default: true)
      #           # autoDeleteOnIdle: "P10675199DT2H48M5.4775807S" # Optional: Auto-delete after idle time (default: never)
      #           # forwardTo: "another-topic-or-queue"  # Optional: Forward messages to another entity
      #           # forwardDeadLetteredMessagesTo: "dlq-topic-or-queue" # Optional: Forward dead-lettered messages
      #
      #           # Optional: Subscription rules for message filtering
      #           rules:
      #             - name: "high-priority-filter"       # Required: Rule name
      #               filterType: "SqlFilter"            # Required: SqlFilter or CorrelationFilter
      #               sqlFilter: "priority = 'high'"     # Required for SqlFilter: SQL expression for filtering
      #               # action: "SET priority = 'urgent'" # Optional: SQL action to modify message properties
      #
      #               # Optional: Rule-level management policies
      #               # managementPolicies: ["Observe"]  # Optional: Management policies (default: ["Observe"] - import/read-only mode)
      #                                                   # IMPORTANT: "Delete" policy is BLOCKED
      #                                                   # To create/manage new rules: ["Create", "Update", "LateInitialize", "Observe"]
      #
      #             - name: "correlation-filter-example"
      #               filterType: "CorrelationFilter"    # Required: Filter type
      #               correlationFilter:                 # Required for CorrelationFilter: Correlation properties
      #                 contentType: "application/json"  # Optional: Match content type
      #                 correlationId: "order-123"       # Optional: Match correlation ID
      #                 label: "OrderCreated"            # Optional: Match message label
      #                 messageId: "msg-456"             # Optional: Match message ID
      #                 properties:                      # Optional: Match custom properties
      #                   customProp: "customValue"
      #                 # replyTo: "reply-queue"         # Optional: Match reply-to address
      #                 # replyToSessionId: "session-123" # Optional: Match reply-to session ID
      #                 # sessionId: "session-456"       # Optional: Match session ID
      #                 # to: "destination"              # Optional: Match destination
      #
      #         - name: "orders-archive"
      #           maxDeliveryCount: 1                    # Lower retry for archive subscription
      #           lockDuration: "PT30S"                  # Shorter lock duration
      #
      #     - name: "notifications"
      #       subscriptions:
      #         - name: "email-sender"
      #           maxDeliveryCount: 5                    # Fewer retries for notifications

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================

## @section Deployment Settings
## Configuration for deployment behavior

## @param isEnvironmentDeploy Whether this is an environment-level deployment (affects resource naming and behavior)
isEnvironmentDeploy: false
